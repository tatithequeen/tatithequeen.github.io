<!DOCTYPE html>
<html>
<head>
<style>
  table {
    border-collapse: collapse;
    margin-top: 20px;
  }
  table, th, td {
    border: 1px solid black;
  }
</style>
</head>
<body>

<h2>Game Flow</h2>

<div id="buttons">
  <button id="winButton" onclick="win()">Win</button>
  <button id="loseButton" onclick="lose()">Lose</button>
  <button id="threeAcrossButton" style="display: none;" onclick="threeAcross()">3 Across</button>
  <button id="fourDownButton" style="display: none;" onclick="fourDown()">4 Down</button>
  <button onclick="startOver()">Start Over</button>
</div>

<table id="gameTable">
  <tr>
    <th>Round</th>
    <th>State</th>
  </tr>
</table>

<script>
let round = 1;
let state = "1-1";

function win() {
  if (state === "Comeback") {
    state = "1-1";
  }
  displayResults();
  checkState();
}

function lose() {
  if (state === "1-1") {
    state = "Breakout";
  } else if (state === "Comeback") {
    state = "Breakout";
  } else if (state === "Breakout") {
    state = "2-2";
  }
  displayResults();
  checkState();
}

function threeAcross() {
  if (state === "2-2") {
    state = "1-1";
  }
  displayResults();
  checkState();
}

function fourDown() {
  if (state === "2-2") {
    state = "Breakout";
  }
  displayResults();
  checkState();
}

function startOver() {
  round = 1;
  state = "1-1";
  displayResults();
  checkState();
}

function checkState() {
  document.getElementById("threeAcrossButton").style.display = state === "2-2" ? "inline" : "none";
  document.getElementById("fourDownButton").style.display = state === "2-2" ? "inline" : "none";
}

function displayResults() {
  let table = document.getElementById("gameTable");
  let row = table.insertRow(-1);
  let roundCell = row.insertCell(0);
  let stateCell = row.insertCell(1);
  roundCell.innerHTML = round++;
  stateCell.innerHTML = state;
}
</script>

</body>
</html>
